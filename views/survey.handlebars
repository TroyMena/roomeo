<div class="container">
  <div class="row">
    <div class="col text-center">
    <h2>Welcome {{name}}</h2>
  </div>
</div>
</div>


<div class="row mt-4">
  <div class="col-md-6">
    <h3>Roommate Survey:</h3>

      <div class="form-group">
        <label for="First-Last">First and Last name:</label>
        <textarea class="form-input" id="First-Last" name="First-Last"></textarea>
      </div>

{{!-- AGE NOT FUNCTIONING CHECK LATER  --}}
   {{!-- <div class="form-group">
  <label for="preferred-age-range">Your age:</label>
  <input type="text" class="form-range" id="preferred-age-range" name="preferred-age-range" 
         pattern="[1-9][0-9]|99" title="Please enter a number between 18 and 99"
         inputmode="numeric" oninput="updateAgeRangeValue(); validateAgeRange()">
  <div id="age-error" style="color: red; display: none;">Please enter a valid age between 18 and 99.</div>
</div> --}}

<script>
function validateAgeRange() {
  var input = document.getElementById("preferred-age-range");
  var errorDiv = document.getElementById("age-error");
  var value = parseInt(input.value);

  if (isNaN(value) || value < 18 || value > 99) {
    errorDiv.style.display = "block";
  } else {
    errorDiv.style.display = "none";
  }
}
</script>


<div class="form-group">
        <label for="bio">Bio:</label>
        <textarea class="form-input" id="bio" name="bio"></textarea>
      </div>

    <form class="form roommate-survey">
      <div class="form-group">
        <label for="temperature">Temperature Preference:</label>
        <select class="form-select" id="temperature" name="temperature">
          <option value="65-below">65 and below</option>
          <option value="65-70">65-70</option>
          <option value="70-75">70-75</option>
          <option value="75-80">75-80</option>
          <option value="80-plus">80+</option>
        </select>
      </div>
      <div class="form-group">
        <label for="pets">Pets:</label>
        <select class="form-select" id="pets" name="pets">
          <option value="has-pets-open">Has pets, open to living with others</option>
          <option value="has-pets-cant-live">Has pets, but can't live with other animals</option>
          <option value="no-pets-open">No pets, open to living with others</option>
          <option value="no-pets-not-open">No pets, not open to living with pets</option>
          <option value="allergic">Allergic to cats/dogs</option>
        </select>
      </div>
      <div class="form-group">
        <label for="sleep-wake-hours">Sleep/Wake Hours:</label>
        <select class="form-select" id="sleep-wake-hours" name="sleep-wake-hours">
          <option value="morning-person">Morning person</option>
          <option value="get-up-at-10am">I don't get up till around 10am</option>
          <option value="wake-up-at-12pm">I wake up at 12pm because I go to sleep around 3am</option>
          <option value="late-nights-early-mornings">I like late nights but still get up early</option>
        </select>
      </div>
      <div class="form-group">
        <label for="parties">Parties?</label>
        <select class="form-select" id="parties" name="parties">
          <option value="once-a-month">Maybe once a month a friend will stop by</option>
          <option value="once-a-week">About once a week</option>
          <option value="often">Family and friends stop by often</option>
          <option value="very-social">Very social, all my friends have a key</option>
        </select>
      </div>
      <div class="form-group">
        <label for="cleanliness-level">Cleanliness Level:</label>
        <select class="form-select" id="cleanliness-level" name="cleanliness-level">
          <option value="clean-once-a-week">I clean once a week</option>
          <option value="fairly-clean-occasionally-messy">Fairly clean, occasionally messy</option>
          <option value="neat-freak">Neat freak</option>
        </select>
      </div>
      <div class="form-group">
        <label for="move-in-date">Move-in Date:</label>
        <select class="form-select" id="move-in-date" name="move-in-date">
          <option value="immediately">Immediately</option>
          <option value="within-a-month">Within the month</option>
          <option value="next-2-3-months">Next two-three months</option>
          <option value="after-3-months">Sometime after three or more months</option>
        </select>
      </div>
      <div class="form-group">
        <label for="relationship-status">Relationship Status:</label>
        <select class="form-select" id="relationship-status" name="relationship-status">
          <option value="okay-with-partner">Okay with roommate having a partner</option>
          <option value="prefer-no-partner">Prefer roommate not having a partner</option>
          <option value="no-partner">Do not want roommate having their own partner</option>
        </select>
      </div>
      <div class="form-group">
        <label for="sharing-items">Okay with sharing items?</label>
        <select class="form-select" id="sharing-items" name="sharing-items">
          <option value="whatever-is-mine-is-yours">Whatever is mine is yours!</option>
          <option value="prefer-ask">I would prefer if you ask</option>
          <option value="do-not-touch-my-stuff">You do not touch my DARN stuff.</option>
        </select>
      </div>
      <div class="form-group">
        <label for="living-style">Living Style:</label>
        <select class="form-select" id="living-style" name="living-style">
          <option value="love-to-be-friends">Yes, I would love that</option>
          <option value="occasionally-talk">We can occasionally talk</option>
          <option value="be-friendly">We will be friendly</option>
          <option value="just-live-together">We just live together and that’s it</option>
        </select>
      </div>
      <div class="form-group">
        <label for="drinking-habits">Do you drink? How often?</label>
        <select class="form-select" id="drinking-habits" name="drinking-habits">
          <option value="drink-yes">Yes</option>
          <option value="drink-rarely">Rarely</option>
          <option value="drink-occasionally">Occasionally</option>
          <option value="drink-all-the-time">All the time</option>
          <option value="drink-no">No</option>
          <option value="prefer-no-drinking">Would prefer if my roommate doesn’t drink</option>
          <option value="dont-care-drinking">I don’t care if my roommate drinks</option>
        </select>
      </div>
      <div class="form-group">
        <label for="smoking-habits">Do you smoke?</label>
        <select class="form-select" id="smoking-habits" name="smoking-habits">
          <option value="no-smoke">No</option>
          <option value="prefer-no-smoking">Would prefer if my roommate does not smoke</option>
          <option value="dont-care-smoking">Don’t care if my roommate smokes</option>
          <option value="smoke-yes">Yes</option>
          <option value="smoke-rarely">Rarely</option>
          <option value="smoke-occasionally">Occasionally</option>
          <option value="smoke-every-day">Every dayyyyyyyyy</option>
        </select>
      </div>
      <div class="form-group">
        <label for="decoration-style">Decoration Style:</label>
        <select class="form-select" id="decoration-style" name="decoration-style">
          <option value="nothing-in-common-area">Nothing in common area</option>
          <option value="neutral-colors">Neutral colors</option>
          <option value="bright-colors">Bright colors (like hot pink bruh)</option>
        </select>
      </div>
      <div class="form-group">
        <label for="cleaning-tasks">How do you like to separate the cleaning tasks:</label>
        <select class="form-select" id="cleaning-tasks" name="cleaning-tasks">
          <option value="clean-individual-stuff">I’ll clean my stuff, you clean yours</option>
          <option value="clean-50-50">50/50 on cleaning, no matter whose mess</option>
        </select>
      </div>
      <div class="form-group">
        <label for="bathroom">Do you need to have your own bathroom?</label>
        <select class="form-select" id="bathroom" name="bathroom">
          <option value="absolutely">Absolutely.</option>
          <option value="preferable">Yes, but I can share if I have to.</option>
          <option value="dont-care">I don't care if I have to share.</option>
        </select>
      <div class="form-group">
        <label for="pet-peeves">Pet Peeves--leave blank if you do not have any notable pet peeves:</label>
        <textarea class="form-input" id="pet-peeves" name="pet-peeves"></textarea>
      </div>
      <div class="form-group">
        <label for="time-spent-in-apartment">Time spent in apartment:</label>
        <select class="form-select" id="time-spent-in-apartment" name="time-spent-in-apartment">
          <option value="24-7">Basically 24/7</option>
          <option value="weekends-out">Going out on weekends</option>
          <option value="rarely-out">Rarely go out</option>
          <option value="3-5-times-a-week">Go out 3-5 times a week</option>
          <option value="never-in-apartment">Never in the apartment</option>
        </select>
      </div>
      <div class="form-group">
        <label for="political-status">What's your political status?</label>
        <select class="form-select" id="political-status" name="political-status">
          <option value="far-left">Far left</option>
          <option value="left">Left</option>
          <option value="moderate">Moderate</option>
          <option value="right">Right</option>
          <option value="far-right">Far right</option>
        </select>
   {{!-- <div class="form-group">
  <label for="preferred-age-range">Preferred Age Range of Roommate:</label>
  <select class="form-select" id="preferred-age-range" name="preferred-age-range" multiple>
    <!-- Add options for each age -->
    <option value="18">18</option>
    <option value="19">19</option>
    <option value="19">20</option>
    <option value="19">21</option>
    <!-- Add more options up to the maximum age -->
    <option value="65">65</option>
  </select>
</div> --}}

{{!-- <label for="file-input">Upload your profile picture:</label>
        <input type="file" name="file" id="file-input" accept="image/*" required> --}}
<label for="upload_widget">Upload your profile picture:</label>
<button id="upload_widget" class="cloudinary-button">Upload files</button>
<script src="https://upload-widget.cloudinary.com/global/all.js" type="text/javascript"></script>
<script type="text/javascript">
  var myWidget = cloudinary.createUploadWidget(
    {
      cloudName: 'dyjuhnsa0',
      uploadPreset: 'ml_default',
      folder: 'widgetUpload',
      cropping: false,  // Enable cropping
      croppingAspectRatio: 1,  // Set the aspect ratio (width/height) for cropping
    },
    (error, result) => {
      if (!error && result && result.event === "success") {
        console.log('Done! Here is the image info: ', result.info.url);
        handleCloudinaryUpload(result.info.url);
      }
    }
  );
document.getElementById("upload_widget").addEventListener("click", function (e) {
  e.preventDefault();  // If necessary
  myWidget.open();
}, { passive: false });
</script>

{{!-- <button id="upload_widget" class="cloudinary-button">Upload files</button>
<script src="https://upload-widget.cloudinary.com/global/all.js" type="text/javascript"></script>  
<script type="text/javascript">  
var myWidget = cloudinary.createUploadWidget({
  cloudName: 'dyjuhnsa0',
  uploadPreset: 'ml_default'
}, (error, result) => {
  if (error) {
    console.error('Upload Error:', error);
  } else if (result && result.event === "success") {
    console.log('Done! Here is the image info:', result.info);
  }
});
document.getElementById("upload_widget").addEventListener("click", function(){
    myWidget.open();
  }, false);
</script> --}}


<script>
  function updateAgeRangeValue() {
    // Get the current value of the age range input
    const ageRangeValue = document.getElementById('preferred-age-range').value;
    
    // Update the display element with the current value
    document.getElementById('preferred-age-range-value').innerText = ageRangeValue;
  }
</script>

      <div class="form-group">
        <button type="submit" class="btn btn-primary">Submit Survey</button>
      </div>
    </form>
  </div>
</div>
</div>
<script src="./js/survey.js"></script> 
